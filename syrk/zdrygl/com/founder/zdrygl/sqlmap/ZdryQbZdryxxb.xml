<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"
	"http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="ZdryQbZdryxxb">
	
	<typeAlias alias="zdryQbZdryxxb" type="com.founder.zdrygl.bean.ZdryQbZdryxxb" />
	<typeAlias alias="zdryQbzdryYwczb" type="com.founder.zdrygl.bean.ZdryQbzdryYwczb" />



	<!-- 制定ID查询单条记录 -->
	<select id="queryById" parameterClass="String" resultClass="zdryQbZdryxxb">
		<![CDATA[ select * from ZDRY_QBZDRYXXB t where ZDRYID = #id#  and rownum = 1 ]]>
	</select>

	<!-- 新增 -->
	<insert id="save" parameterClass="zdryQbZdryxxb">
		<![CDATA[ insert into ZDRY_QBZDRYXXB (ZDRYID,BJZDRYBH,ZT,XM,XMPY,WWXM,XB,CSRQ,GJ,SFZH,QTZJHM,MZ,JG,HJDQH,HJDXZ,HJDPCS,HJDPCSDM,XZDQH,XZDXZ,XZDPCS,XZDPCSDM,GXDW,GXDWJGDM,LADWDM,LADWJGDM,ZJLASJ,NRBJZDRYKSJ,ZDRYLBBJ,ZDRYXL,YXX,JLXZSJ,JLCXSJ,JLBGSJ,CREATEDATE,ETLDATE,SFZH18,XSSJ,]]><include refid="insertXtzd"/>)
		<![CDATA[ values (#zdryid#,#bjzdrybh#,#zt#,#xm#,#xmpy#,#wwxm#,#xb#,#csrq#,#gj#,#sfzh#,#qtzjhm#,#mz#,#jg#,#hjdqh#,#hjdxz#,#hjdpcs#,#hjdpcsdm#,#xzdqh#,#xzdxz#,#xzdpcs#,#xzdpcsdm#,#gxdw#,#gxdwjgdm#,#ladwdm#,#ladwjgdm#,#zjlasj#,#nrbjzdryksj#,#zdrylbbj#,#zdryxl#,#yxx#,#jlxzsj#,#jlcxsj#,#jlbgsj#,#createdate#,#etldate#,#sfzh18#,#xssj#,]]>
		<include refid="insertXtzdVal"/>)
	</insert>
	
	<!-- 更新 -->
	<update id="update" parameterClass="zdryQbZdryxxb">
		<![CDATA[ update ZDRY_QBZDRYXXB ]]>	
		<dynamic prepend="set">
			 <isNotNull prepend="," property="zdryid"><![CDATA[ ZDRYID=#zdryid# ]]></isNotNull>
			 <isNotNull prepend="," property="bjzdrybh"><![CDATA[ BJZDRYBH=#bjzdrybh# ]]></isNotNull>
			 <isNotNull prepend="," property="zt"><![CDATA[ ZT=#zt# ]]></isNotNull>			 
			 <isNotNull prepend="," property="xm"><![CDATA[ XM=#xm# ]]></isNotNull>
			 <isNotNull prepend="," property="xmpy"><![CDATA[ XMPY=#xmpy# ]]></isNotNull>
			 <isNotNull prepend="," property="wwxm"><![CDATA[ WWXM=#wwxm# ]]></isNotNull>
			 <isNotNull prepend="," property="xb"><![CDATA[ XB=#xb# ]]></isNotNull>
			 <isNotNull prepend="," property="csrq"><![CDATA[ CSRQ=#csrq# ]]></isNotNull>
			 <isNotNull prepend="," property="gj"><![CDATA[ GJ=#gj# ]]></isNotNull>
			 <isNotNull prepend="," property="sfzh"><![CDATA[ SFZH=#sfzh# ]]></isNotNull>
			 <isNotNull prepend="," property="qtzjhm"><![CDATA[ QTZJHM=#qtzjhm# ]]></isNotNull>
			 <isNotNull prepend="," property="mz"><![CDATA[ MZ=#mz# ]]></isNotNull>
			 <isNotNull prepend="," property="jg"><![CDATA[ JG=#jg# ]]></isNotNull>
			 <isNotNull prepend="," property="hjdqh"><![CDATA[ HJDQH=#hjdqh# ]]></isNotNull>
			 <isNotNull prepend="," property="hjdxz"><![CDATA[ HJDXZ=#hjdxz# ]]></isNotNull>
			 <isNotNull prepend="," property="hjdpcs"><![CDATA[ HJDPCS=#hjdpcs# ]]></isNotNull>
			 <isNotNull prepend="," property="hjdpcsdm"><![CDATA[ HJDPCSDM=#hjdpcsdm# ]]></isNotNull>
			 <isNotNull prepend="," property="xzdqh"><![CDATA[ XZDQH=#xzdqh# ]]></isNotNull>
			 <isNotNull prepend="," property="xzdxz"><![CDATA[ XZDXZ=#xzdxz# ]]></isNotNull>
			 <isNotNull prepend="," property="xzdpcs"><![CDATA[ XZDPCS=#xzdpcs# ]]></isNotNull>
			 <isNotNull prepend="," property="xzdpcsdm"><![CDATA[ XZDPCSDM=#xzdpcsdm# ]]></isNotNull>
			 <isNotNull prepend="," property="gxdw"><![CDATA[ GXDW=#gxdw# ]]></isNotNull>
			 <isNotNull prepend="," property="gxdwjgdm"><![CDATA[ GXDWJGDM=#gxdwjgdm# ]]></isNotNull>
			 <isNotNull prepend="," property="ladwdm"><![CDATA[ LADWDM=#ladwdm# ]]></isNotNull>
			 <isNotNull prepend="," property="ladwjgdm"><![CDATA[ LADWJGDM=#ladwjgdm# ]]></isNotNull>
			 <isNotNull prepend="," property="zjlasj"><![CDATA[ ZJLASJ=#zjlasj# ]]></isNotNull>
			 <isNotNull prepend="," property="nrbjzdryksj"><![CDATA[ NRBJZDRYKSJ=#nrbjzdryksj# ]]></isNotNull>
			 <isNotNull prepend="," property="zdrylbbj"><![CDATA[ ZDRYLBBJ=#zdrylbbj# ]]></isNotNull>
			 <isNotNull prepend="," property="zdryxl"><![CDATA[ ZDRYXL=#zdryxl# ]]></isNotNull>
			 <isNotNull prepend="," property="yxx"><![CDATA[ YXX=#yxx# ]]></isNotNull>
			 <isNotNull prepend="," property="jlxzsj"><![CDATA[ JLXZSJ=#jlxzsj# ]]></isNotNull>
			 <isNotNull prepend="," property="jlcxsj"><![CDATA[ JLCXSJ=#jlcxsj# ]]></isNotNull>
			 <isNotNull prepend="," property="jlbgsj"><![CDATA[ JLBGSJ=#jlbgsj# ]]></isNotNull>
			 <isNotNull prepend="," property="createdate"><![CDATA[ CREATEDATE=#createdate# ]]></isNotNull>
			 <isNotNull prepend="," property="etldate"><![CDATA[ ETLDATE=#etldate# ]]></isNotNull>
			 <isNotNull prepend="," property="sfzh18"><![CDATA[ SFZH18=#sfzh18# ]]></isNotNull>
			 <isNotNull prepend="," property="xssj"><![CDATA[ XSSJ=#xssj# ]]></isNotNull>,
			<include refid="updateXtzd"/>				
		</dynamic>
		<![CDATA[ where ZDRYID = #zdryid#]]>	
	</update>
	
	<!-- 注销 -->
	<update id="delete" parameterClass="zdryQbZdryxxb">
		<![CDATA[ update ZDRY_QBZDRYXXB set ]]><include refid="deleteXtzd"/><![CDATA[ where ZDRYID = #zdryid# ]]>	
	</update>
	
		<!-- 涉公安访重点人员列表数据  -->
	<select id="queryList" parameterClass="Map" resultClass="zdryQbZdryxxb">
	       <![CDATA[SELECT * FROM ( SELECT ROWNUM R ,M.* FROM (
		       SELECT * 
		          FROM ZDRY_QBZDRYXXB T2 
		       WHERE T2.XT_ZXBZ = '0' ]]> 
				
		  <![CDATA[  ORDER BY T2.$sort$ $order$) M  WHERE ROWNUM <= #end# ) WHERE R > #begin#]]> 
	</select>
	
	<!--列表总数统计 -->
    <select id="queryListCount" parameterClass="Map" resultClass="Integer">
		    <![CDATA[
		       SELECT count(1)
		           FROM ZDRY_QBZDRYXXB T2 
		       WHERE T2.XT_ZXBZ = '0' ]]> 
			
		</select>
		<!--根据重点人员id查询操作记录此重点人员的操作记录 -->
		  <select id="queryOperationCount" parameterClass="Map" resultClass="Integer">
		    <![CDATA[
		       SELECT count(1)
		           FROM ZDRY_QBZDRYYWCZB T2 
		       WHERE T2.XT_ZXBZ = '0' AND T2.ZDRYID=#zdryid# ]]> 
			
		</select>
		<!-- 根据重点人员id查询此重点人员列表 -->
		<select id="queryOperationList" parameterClass="Map" resultClass="zdryQbzdryYwczb">
	       <![CDATA[SELECT * FROM ( SELECT ROWNUM R ,M.* FROM (
		       SELECT * 
		          FROM ZDRY_QBZDRYYWCZB T2 
		       WHERE T2.XT_ZXBZ = '0' AND T2.ZDRYID=#zdryid#]]> 
				
		  <![CDATA[  ORDER BY T2.$sort$ $order$) M  WHERE ROWNUM <= #end# ) WHERE R > #begin#]]> 
	</select>
	
	 <select id="queryBenOperation" parameterClass="Map" resultClass="Integer">
		    <![CDATA[
		       SELECT count(1)
		           FROM ZDRY_QBZDRYYWCZB T2 
		       WHERE T2.XT_ZXBZ = '0' AND T2.ZDRYID=#zdryid#  ]]> 
			
		</select>
</sqlMap>
